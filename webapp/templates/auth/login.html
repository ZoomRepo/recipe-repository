{% extends "base.html" %}

{% block title %}Sign in Â· Recipe Repository{% endblock %}

{% block content %}
  <section class="auth-wrapper">
    <div class="auth-card">
      <h1>Secure Access</h1>
      <p class="auth-intro">
        Enter your email address and we'll send a six-digit code to unlock the Recipe Repository.
      </p>
      <form method="post" action="{{ url_for('auth.login') }}" class="auth-form">
        <label for="email">Email address</label>
        <input
          id="email"
          name="email"
          type="email"
          value="{{ email }}"
          autocomplete="email"
          placeholder="you@example.com"
          required
        >
        <button type="submit" class="btn-primary">Email me a code</button>
      </form>
      {% if code_sent %}
        <form method="post" action="{{ url_for('auth.verify') }}" class="auth-form auth-form--verify">
          <label for="code">Enter the 6-digit code</label>
          <input
            id="code"
            name="code"
            type="text"
            inputmode="numeric"
            pattern="\d{6}"
            maxlength="6"
            placeholder="000000"
            required
          >
          <p class="auth-hint">Didn't receive it? Check your spam folder or request a new code above.</p>
          <button type="submit" class="btn-secondary">Verify and continue</button>
        </form>
      {% endif %}
    </div>
  </section>
{% endblock %}
